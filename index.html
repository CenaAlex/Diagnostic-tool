<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>IT Diagnostic Tool</title>
    <link rel="icon" type="image/png" href="icon.png">
    <link rel="apple-touch-icon" href="icon.png">
    <style>
        /* APP STYLING */
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #eef2f5; margin: 0; padding: 0; user-select: none; -webkit-tap-highlight-color: transparent; }
        
        /* Header */
        .header { background: linear-gradient(135deg, #0061f2 0%, #00c6f9 100%); color: white; padding: 25px 20px; text-align: center; box-shadow: 0 4px 15px rgba(0,97,242,0.3); border-radius: 0 0 20px 20px; }
        .header h1 { margin: 0; font-size: 24px; font-weight: 700; letter-spacing: 0.5px; }
        .header p { margin: 5px 0 0; font-size: 14px; opacity: 0.9; }

        .container { padding: 20px; max-width: 600px; margin: 0 auto; }

        /* Search Bar */
        .search-wrapper { position: sticky; top: 10px; z-index: 100; margin-bottom: 20px; }
        input[type="text"] { width: 100%; padding: 16px 20px; border: none; border-radius: 15px; font-size: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.08); outline: none; transition: 0.3s; box-sizing: border-box; }
        input[type="text"]:focus { box-shadow: 0 4px 25px rgba(0,97,242,0.25); transform: scale(1.02); }

        /* Prediction Dropdown */
        #prediction-list { list-style: none; padding: 0; margin: 10px 0 0; background: white; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); display: none; overflow: hidden; }
        #prediction-list li { padding: 15px 20px; border-bottom: 1px solid #f0f0f0; cursor: pointer; color: #333; font-weight: 500; display: flex; justify-content: space-between; align-items: center; }
        #prediction-list li:active { background-color: #f5f9ff; }

        /* Grid Layout */
        .grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; }
        .btn { background: white; border: none; padding: 20px; border-radius: 16px; font-size: 16px; font-weight: 600; color: #2c3e50; box-shadow: 0 2px 10px rgba(0,0,0,0.05); cursor: pointer; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 110px; transition: 0.2s; position: relative; overflow: hidden; }
        .btn:active { transform: scale(0.96); background-color: #f8f9fa; }
        .btn.guide { border-left: 5px solid #00c6f9; background: #fdfdfd; } /* Blue stripe for guides */
        
        /* Icons */
        .icon { font-size: 32px; margin-bottom: 10px; display: block; }
        
        /* Result Modal */
        #result-view { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #f8f9fa; z-index: 1000; overflow-y: auto; }
        .result-header { background: white; padding: 15px 20px; display: flex; align-items: center; position: sticky; top: 0; box-shadow: 0 2px 10px rgba(0,0,0,0.05); z-index: 1001; }
        .back-btn { background: #eef2f5; border: none; color: #333; width: 40px; height: 40px; border-radius: 50%; font-size: 18px; font-weight: bold; cursor: pointer; margin-right: 15px; }
        .result-title { font-size: 18px; font-weight: 700; color: #2c3e50; }

        .result-content { padding: 25px; padding-bottom: 80px; }
        
        /* Step Cards */
        .step-card { background: white; border-radius: 12px; padding: 20px; margin-bottom: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.04); border-left: 4px solid #0061f2; }
        .step-header { font-size: 14px; font-weight: 800; color: #0061f2; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 10px; display: block; }
        .step-text { font-size: 16px; line-height: 1.6; color: #444; }
        .highlight { background-color: #e7f1ff; padding: 2px 6px; border-radius: 4px; color: #0061f2; font-family: monospace; font-weight: bold; font-size: 14px; }
        .warning { color: #d63384; font-weight: bold; }
        .tool-tag { display: inline-block; background: #333; color: white; padding: 2px 8px; border-radius: 4px; font-size: 12px; margin-bottom: 5px; }
        
        /* Category Headers */
        .cat-header { margin: 20px 0 10px; color: #666; font-size: 14px; text-transform: uppercase; letter-spacing: 1px; font-weight: bold; grid-column: span 2; }
    </style>
</head>
<body>

    <div class="header">
        <h1>IT DIAGNOSTIC TOOL</h1>
        <p>Technician V9.2 (Disk Tools)</p>
    </div>

    <div class="container">
        <div class="search-wrapper">
            <input type="text" id="searchInput" placeholder="Search (e.g. 'disk', 'blue screen')..." onkeyup="handleSearch()" autocomplete="off">
            <ul id="prediction-list"></ul>
        </div>

        <div class="grid" id="mainGrid">
            </div>
    </div>

    <div id="result-view">
        <div class="result-header">
            <button class="back-btn" onclick="closeResult()">‚úï</button>
            <span class="result-title" id="resultTitle">Solution</span>
        </div>
        <div class="result-content" id="resultText"></div>
    </div>

    <script>
        // ==========================================
        //  DATABASE
        // ==========================================
        
        const guides = {
            "Backup & Reformat": {
                icon: "üíæ",
                tags: ["backup", "format", "install", "windows", "rescuezilla", "ventoy", "wipe"],
                solution: `
                <div class="step-card">
                    <span class="step-header">Required Tools</span>
                    <div class="step-text">
                        1. <b>Ventoy USB</b> (Plugged into PC).<br>
                        2. <b>External HDD</b> (For saving the backup file).<br>
                        3. <b>Rescuezilla ISO</b> (Inside Ventoy).<br>
                        4. <b>Windows 10/11 ISO</b> (Inside Ventoy).
                    </div>
                </div>
                <div class="step-card">
                    <span class="step-header">Phase 1: Backup (Rescuezilla)</span>
                    <div class="step-text">
                        1. Boot PC > Boot Menu (F12/Esc) > Select USB > <b>Rescuezilla</b>.<br>
                        2. Click <b>Backup</b> icon.<br>
                        3. <b>Source:</b> Select the internal SSD (Windows Drive).<br>
                        4. <b>Destination:</b> Select your External HDD.<br>
                        5. Start Backup. Wait for 100% completion.<br>
                        6. Shutdown and <span class="warning">UNPLUG External HDD</span> (Safety first!).
                    </div>
                </div>
                <div class="step-card">
                    <span class="step-header">Phase 2: Reformat</span>
                    <div class="step-text">
                        1. Boot PC > Select USB > <b>Windows Installer</b>.<br>
                        2. Proceed to "Custom Installation".<br>
                        3. <b>Delete ALL Partitions</b> on Drive 0 until you see only "Unallocated Space".<br>
                        4. Click Next (Windows will create new partitions automatically).
                    </div>
                </div>`
            },
            "Hiren's Manual": {
                icon: "üõ†Ô∏è",
                tags: ["hiren", "hbcd", "password", "reset", "unlock", "disk", "health", "crystal", "clone", "boot", "fix"],
                solution: `
                <div class="step-card">
                    <span class="step-header">Feature 1: Password Reset</span>
                    <div class="step-text">
                        <span class="tool-tag">Tool: Lazesoft Password Recovery</span><br>
                        1. Boot Hiren's > Start Menu > Security > Passwords.<br>
                        2. Open <b>Lazesoft</b> > "Reset Windows Password".<br>
                        3. Select the User Account (e.g., "Admin").<br>
                        4. Click <b>RESET / UNLOCK</b>.<br>
                        5. Restart PC. The password is now blank.
                    </div>
                </div>
                <div class="step-card">
                    <span class="step-header">Feature 2: Check Disk Health</span>
                    <div class="step-text">
                        <span class="tool-tag">Tool: CrystalDiskInfo</span><br>
                        1. Start Menu > Hard Disk Tools > Diagnostic.<br>
                        2. Open <b>CrystalDiskInfo</b>.<br>
                        3. Look at "Health Status":<br>
                        - üîµ <b>Good:</b> Drive is fine.<br>
                        - üü° <b>Caution:</b> Backup immediately, drive is failing.<br>
                        - üî¥ <b>Bad:</b> Drive is dead.
                    </div>
                </div>
                <div class="step-card">
                    <span class="step-header">Feature 3: Clone Drive (HDD to SSD)</span>
                    <div class="step-text">
                        <span class="tool-tag">Tool: Macrium Reflect Free</span><br>
                        1. Connect both drives.<br>
                        2. Open Macrium Reflect.<br>
                        3. Click the old drive > <b>"Clone this disk..."</b>.<br>
                        4. Click "Select a disk to clone to..." and pick the new SSD.<br>
                        5. Drag partitions down. Click Finish.
                    </div>
                </div>
                <div class="step-card">
                    <span class="step-header">Feature 4: Fix Boot Errors</span>
                    <div class="step-text">
                        <span class="tool-tag">Tool: Macrium Reflect (Fix Boot)</span><br>
                        1. If Windows says "No Boot Device".<br>
                        2. Open Macrium Reflect.<br>
                        3. Go to <b>Restore</b> tab > <b>Fix Windows Boot Problems</b>.<br>
                        4. Follow the wizard. It rebuilds the BCD automatically.
                    </div>
                </div>`
            }
        };

        const problems = {
            "Drive Not Showing": {
                icon: "üíΩ",
                tags: ["hdd", "ssd", "disk", "detect", "explorer", "letter", "initialize", "partition", "mount"],
                solution: `
                <div class="step-card">
                    <span class="step-header">Diagnosis</span>
                    <div class="step-text">If the drive shows in Device Manager/BIOS but not in File Explorer, it usually lacks a <b>Drive Letter</b> or needs <b>Initialization</b>.</div>
                </div>
                <div class="step-card">
                    <span class="step-header">Fix 1: Disk Management (Safe)</span>
                    <div class="step-text">
                        1. Right-click the Start Button > select <b>Disk Management</b>.<br>
                        2. Look for a drive with a <span class="warning">Black Bar</span> (Unallocated) or no letter.<br>
                        3. <b>If Black/Unallocated:</b> Right-click it > <b>New Simple Volume</b> > Next > Next > Finish.<br>
                        4. <b>If Blue but No Letter:</b> Right-click it > <b>Change Drive Letter and Paths</b> > Add > OK.
                    </div>
                </div>
                <div class="step-card">
                    <span class="step-header">Fix 2: Diskpart (CMD)</span>
                    <div class="step-text">
                        <span class="warning">WARNING: This Wipes Data!</span> Use if Disk Management fails.<br>
                        1. Open CMD as Admin.<br>
                        2. Type <span class="highlight">diskpart</span> > Enter.<br>
                        3. Type <span class="highlight">list disk</span> > Identify your disk number (e.g., Disk 1).<br>
                        4. Type <span class="highlight">select disk #</span> (Replace # with number).<br>
                        5. Type <span class="highlight">clean</span> (Wipes it).<br>
                        6. Type <span class="highlight">create partition primary</span> > <span class="highlight">format fs=ntfs quick</span> > <span class="highlight">assign</span>.
                    </div>
                </div>`
            },
            "No Display / Beeps": {
                icon: "üñ•Ô∏è",
                tags: ["black", "monitor", "signal", "post", "boot", "beep", "alarm", "noise", "4", "fan", "spin"],
                solution: `
                <div class="step-card">
                    <span class="step-header">Diagnosis</span>
                    <div class="step-text">If fans spin but screen is black, the PC failed "POST". Beeps indicate hardware error.</div>
                </div>
                <div class="step-card">
                    <span class="step-header">Step 1: Reseat RAM (The Golden Fix)</span>
                    <div class="step-text">
                        1. Unplug PC power.<br>
                        2. Open case and remove RAM sticks.<br>
                        3. <b>Clean gold pins with a rubber eraser</b>.<br>
                        4. Reinsert firmly until you hear a CLICK.<br>
                        5. Try one stick at a time if you have multiple.
                    </div>
                </div>
                <div class="step-card">
                    <span class="step-header">Step 2: CMOS Reset</span>
                    <div class="step-text">
                        1. Locate the round silver battery (CR2032) on the motherboard.<br>
                        2. Remove it for 30 seconds.<br>
                        3. Put it back in. This resets BIOS settings.
                    </div>
                </div>`
            },
            "No Internet": {
                icon: "üåê",
                tags: ["wifi", "ethernet", "slow", "offline", "lan", "connect"],
                solution: `
                <div class="step-card">
                    <span class="step-header">Step 1: The Magic Commands</span>
                    <div class="step-text">
                        1. Open Start > Type <b>cmd</b> > Right-click <b>Run as Admin</b>.<br>
                        2. Type: <span class="highlight">ipconfig /flushdns</span> (Enter)<br>
                        3. Type: <span class="highlight">ipconfig /release</span> (Enter)<br>
                        4. Type: <span class="highlight">ipconfig /renew</span> (Enter)<br>
                        5. Type: <span class="highlight">netsh winsock reset</span> (Enter)<br>
                        6. Restart PC.
                    </div>
                </div>
                <div class="step-card">
                    <span class="step-header">Step 2: Check IP Settings</span>
                    <div class="step-text">
                        1. Go to Settings > Network & Internet.<br>
                        2. Ensure IP assignment is set to <b>Automatic (DHCP)</b>, not Static.
                    </div>
                </div>`
            },
            "Blue Screen (BSOD)": {
                icon: "‚òπÔ∏è",
                tags: ["bsod", "crash", "error", "restart", "blue"],
                solution: `
                <div class="step-card">
                    <span class="step-header">Step 1: Analyze Code</span>
                    <div class="step-text">Look at the bottom of the screen. Example codes:<br>
                    - <b>MEMORY_MANAGEMENT:</b> Bad RAM.<br>
                    - <b>CRITICAL_PROCESS_DIED:</b> Corrupt Windows.<br>
                    - <b>INACCESSIBLE_BOOT_DEVICE:</b> Bad Drive/BIOS setting.</div>
                </div>
                <div class="step-card">
                    <span class="step-header">Step 2: System Repair</span>
                    <div class="step-text">
                        1. Open CMD as Admin.<br>
                        2. Type: <span class="highlight">sfc /scannow</span><br>
                        3. Wait for 100% verification.
                    </div>
                </div>`
            },
            "Printer Offline": {
                icon: "üñ®Ô∏è",
                tags: ["print", "jam", "queue", "spooler"],
                solution: `
                <div class="step-card">
                    <span class="step-header">Fix: Restart Spooler</span>
                    <div class="step-text">
                        1. Press <b>Win + R</b> keys.<br>
                        2. Type <span class="highlight">services.msc</span> and Enter.<br>
                        3. Scroll down to <b>Print Spooler</b>.<br>
                        4. Right-click and select <b>Restart</b>.
                    </div>
                </div>
                <div class="step-card">
                    <span class="step-header">Fix: Clear Queue</span>
                    <div class="step-text">
                        Go to Settings > Devices > Printers > Open Queue > Cancel All Documents.
                    </div>
                </div>`
            },
            "Slow PC": {
                icon: "üêå",
                tags: ["lag", "freeze", "hang", "100%", "disk"],
                solution: `
                <div class="step-card">
                    <span class="step-header">Step 1: Check Task Manager</span>
                    <div class="step-text">
                        Press Ctrl+Shift+Esc.<br>
                        - If <b>Disk is 100%</b>: HDD is failing or Windows Update is stuck.<br>
                        - If <b>Memory is 90%</b>: Close Chrome tabs or buy more RAM.
                    </div>
                </div>
                <div class="step-card">
                    <span class="step-header">Step 2: Disable Startup Apps</span>
                    <div class="step-text">
                        Task Manager > Startup Tab > Right-click heavy apps (Teams, Spotify) > <b>Disable</b>.
                    </div>
                </div>`
            },
            "No Audio": {
                icon: "üîá",
                tags: ["sound", "speaker", "hear", "volume"],
                solution: `
                <div class="step-card">
                    <span class="step-header">Fix 1: Output Device</span>
                    <div class="step-text">Click Speaker icon. Ensure it says "Speakers (Realtek)" and NOT your Monitor (HDMI).</div>
                </div>
                <div class="step-card">
                    <span class="step-header">Fix 2: Reinstall Driver</span>
                    <div class="step-text">
                        Device Manager > Sound, video and game controllers > Right-click Audio Driver > <b>Uninstall</b> > Restart PC.
                    </div>
                </div>`
            },
            "App Crash": {
                icon: "üí•",
                tags: ["close", "software", "bug", "force"],
                solution: `
                <div class="step-card">
                    <span class="step-header">Fix 1: Admin Mode</span>
                    <div class="step-text">Right-click the app icon > <b>Run as Administrator</b>.</div>
                </div>
                <div class="step-card">
                    <span class="step-header">Fix 2: Event Viewer</span>
                    <div class="step-text">
                        Search "Event Viewer" > Windows Logs > Application. Look for Red Error icons to see the cause.
                    </div>
                </div>`
            },
            "Overheating": {
                icon: "üî•",
                tags: ["hot", "shutdown", "fan", "thermal"],
                solution: `
                <div class="step-card">
                    <span class="step-header">Maintenance</span>
                    <div class="step-text">
                        1. Use compressed air to clean dust from heatsink.<br>
                        2. If PC is >3 years old, remove cooler and replace <b>Thermal Paste</b>.<br>
                        3. Ensure fans are actually spinning.
                    </div>
                </div>`
            }
        };

        // ================= LOGIC =================
        const mainGrid = document.getElementById("mainGrid");
        const predictionList = document.getElementById("prediction-list");
        const searchInput = document.getElementById("searchInput");
        
        // Combine for search
        const allItems = { ...guides, ...problems };

        function renderMain() {
            mainGrid.innerHTML = "";
            
            // 1. Guides Section Header
            let guideHeader = document.createElement("div");
            guideHeader.className = "cat-header";
            guideHeader.innerText = "Technician Guides";
            mainGrid.appendChild(guideHeader);

            // 2. Render Guides
            for (let key in guides) {
                let btn = document.createElement("button");
                btn.className = "btn guide";
                btn.innerHTML = `<span class='icon'>${guides[key].icon}</span>${key}`;
                btn.onclick = () => openResult(key, guides[key]);
                mainGrid.appendChild(btn);
            }

            // 3. Problems Section Header
            let probHeader = document.createElement("div");
            probHeader.className = "cat-header";
            probHeader.innerText = "Troubleshooting";
            mainGrid.appendChild(probHeader);

            // 4. Render Problems
            for (let key in problems) {
                let btn = document.createElement("button");
                btn.className = "btn";
                btn.innerHTML = `<span class='icon'>${problems[key].icon}</span>${key}`;
                btn.onclick = () => openResult(key, problems[key]);
                mainGrid.appendChild(btn);
            }
        }

        function handleSearch() {
            let query = searchInput.value.toLowerCase().trim();
            predictionList.innerHTML = "";
            
            if (query.length < 1) {
                predictionList.style.display = "none";
                return;
            }

            let queryWords = query.split(" ");
            let matches = [];

            for (let key in allItems) {
                let tags = allItems[key].tags;
                let title = key.toLowerCase();
                if (queryWords.some(w => title.includes(w) || tags.some(t => t.includes(w)))) {
                    matches.push(key);
                }
            }

            if (matches.length > 0) {
                predictionList.style.display = "block";
                matches.forEach(match => {
                    let li = document.createElement("li");
                    li.innerHTML = `${match} <span>‚Üí</span>`;
                    li.onclick = () => {
                        openResult(match, allItems[match]);
                        searchInput.value = "";
                        predictionList.style.display = "none";
                    };
                    predictionList.appendChild(li);
                });
            } else {
                predictionList.style.display = "none";
            }
        }

        function openResult(title, data) {
            document.getElementById("resultTitle").innerText = title;
            document.getElementById("resultText").innerHTML = data.solution;
            document.getElementById("result-view").style.display = "block";
        }

        function closeResult() {
            document.getElementById("result-view").style.display = "none";
        }

        // Start
        renderMain();
    </script>
</body>
</html>